# -- Application Settings --
spring.application.name=ai-service
server.port=${SERVER_PORT:8080}

# --- Spring AI Configuration (Pointing to Groq) ---
# 1. This is your secret API key from your Groq account.
spring.ai.openai.api-key=${GROQ_API_KEY}

# 2. This is the magic. We override the base URL to point to Groq's
#    OpenAI-compatible endpoint instead of api.openai.com.
spring.ai.openai.base-url=https://api.groq.com/openai/v1

# 3. This sets the default model to use on Groq's platform.
#    'llama3-70b-8192' is an excellent, powerful, and fast model.
spring.ai.openai.chat.options.model=llama3-70b-8192
spring.ai.openai.chat.options.temperature=0.7

# --- Security (Keycloak) Configuration ---
# This tells your service where to find Keycloak to validate JWTs
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8088/realms/user-service
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://keycloak:8080/realms/user-service/protocol/openid-connect/certs

# --- Feign Client URL (to call your media-service) ---
clients.media-service.url=${CLIENTS_MEDIA_SERVICE_URL}

# --- Logging Configuration ---
# This adds the service name and correlation ID to your logs
logging.pattern.level=%5p [${spring.application.name:},%X{X-Correlation-Id:-}]